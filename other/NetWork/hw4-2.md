![image-20251120213514513](/Users/rprp/Library/Application Support/typora-user-images/image-20251120213514513.png)

## CSMA/CD 的基本工作过程

**基本工作过程**

+ 载波监听

  + 监听信道是否空闲

+ 发送并检测冲突

+ 进行指数退避

  + 指数退避的过程：

    + 每发生一次冲突，节点会按次数 $k$ 进入退避：

      - 第 $k$ 次冲突时，节点会随机选择一个整数：

      $$
      r \in [0, 2^k - 1]
      $$

      - 然后等待 $r$ 个“最小时隙（slot time）”后再试。
      - 随着冲突次数增加，范围也变大，从而减少持续冲突的概率。



**当两个主机同时开始发送帧**

+ 信号传播存在延迟，考虑主机 A， B 在某个位置相遇并产生冲突，那么双方同时检查到波形异常，触发冲突检测。
+ A， B 一起进入指数退避





## 帧传输时间 $T_f$ 与链路传播时延 $t$ 必须满足的关系 + 原因

$$T_f \geq 2\tau$$

因为**必须在整个帧还没发完之前，就能“听到”潜在的冲突。**

因为传播时延导致最坏情况下冲突信号需要一个往返时延才能到达发送者；若帧太短，发送者可能在听到冲突前就已发送完毕，无法检测冲突，导致协议失效。

