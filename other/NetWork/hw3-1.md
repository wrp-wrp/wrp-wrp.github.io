![image-20251011103117908](/Users/rprp/Library/Application Support/typora-user-images/image-20251011103117908.png)

## 1

- **可靠传输服务 ** 保证数据能够**完整、按序、无差错**地从发送方交付给接收方。如果数据在传输中发生丢失、损坏或乱序，该服务有机制能够检测到并进行纠正（如重传）。
- **不可靠传输服务 ** **不提供**任何上述保证。它只是“尽力而为”地将数据报从发送方发出，但不保证它们是否能到达、是否按序到达、或者到达时是否完好。
- 可靠传输服务关注数据完整和准确性，不可靠传输服务关注传输的速度和完整性。



## 2

+ 序列号
  + TCP将字节流分割成带有唯一序列号的数据段进行传输。接收方收到数据后，会发送一个包含“期望收到的下一个字节的序列号”的ACK报文作为确认。这种机制不仅能确认数据已收到，还能检测出丢失的数据段和重新组合乱序的数据段。
+ 超时重传
  + 发送方在发送数据段后，都会启动一个计时器。如果在计时器超时后仍未收到接收方对该数据段的确认(ACK)，发送方就会假定该数据段已丢失，并自动重新发送它。
+ ACK 确认机制
  + 接收方收到数据后，会发送一个包含“期望收到的下一个字节的序列号”的ACK报文作为确认。这种机制不仅能确认数据已收到，还能检测出丢失的数据段和重新组合乱序的数据段。



## 3

A 选择TCP， B 选择UDP



## 4

功能A要求上传一个非常重要的压缩包文件，并且明确指出。这要求传输的**可靠性必须达到100%**，需要 TCP



## 5

视频通话对低延迟有需求，需要 UDP



## 6

性能的定义是多维度的，“性能”不仅仅指**传输延迟和吞吐量**。在很多应用中，**可靠性、稳定性和网络友好性**也是性能的重要组成部分。TCP提供了这些保证，而UDP没有。

UDP在**原始传输延迟**上优于TCP，但在**可靠性、网络适应性和公平性**上远不如TCP。不能简单地说谁的性能“永远优于”谁，只能说它们适用于不同的应用场景。



## 7

+ DNS 请求简单， TCP的三次握手四次挥手会带来不必要的开销，使用 UDP， 由应用层保证可靠性。
+ 视频会议对实时性要求高。



+ 如何解决可靠性问题：

  + 开发者会在**应用层**构建自己的可靠性机制，根据自己的需求更灵活设计可靠性机制。

    