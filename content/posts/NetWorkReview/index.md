+++
date = '2025-11-20T12:01:45+08:00'
draft = false
math = true
title = '计算机网络复习'
+++

# 模式与指标

+ 分组交换/电路交换
+ 时延带宽积 = 速率 $\times $ 传播时延 = 链路承载比特数
+ 比特宽度 = 距离 / 链路承载比特数
+ 信号、线路的带宽 （HZ）
+ 信道利用率 = 有数据通过的时间 / 时间
  + 网络利用率 = 信道利用率的平均
+ RTT
  + 发送端发送数据开始，到收到接收端的确认
+ 七层 OSI 五层 TCP/IP
  + ![image-20251120115750892](image1.png)
+ 五层 TCP/IP 传输的内容
  + ![image-20251120120042503](image2.png)


## 编码
+ 采样定理
  + 采样频率大于信号最高频率的2倍，可以无失真还原模拟信号。
+ 奈式准则
  + 码元
  + 码元速率（波特率）
  + **奈式准则** 无噪声情况下， $B = 2W$
    + B 波特率， W 信道带宽
  + $S = B \times \log_2 N = 2W\times \log_2 N$
+ 香农定理:噪声环境中有限带宽介质信道的最大传输速率C与信道带宽和信号噪声功率比之间的关系
  + $$C = W \times \log_2 (1 + S/N) (bps)$$
  + W：信道带宽
  + S：平均信号功率
  + N：平均噪声功率
+ 信噪比(分贝)
  + $10\log_{10}(S/N) (db)$
  + 利用信噪比计算 S/N

## HTTP
+ HTTP 1.0（非持久连接、无连接复用、队头阻塞）
+ HTTP 1.1（持久连接、流水线传输、响应阻塞）
+ HTTP 2.0（并行并发传输，响应可乱序、流控）
+ HTTP 3.0（UDP，解决TCP阻塞问题、流式、连接迁移）
  + 集成了 QUIC， 利用可靠的 UDP 替代 TCP
> 报文特点
> 
> HTTP 1.0/1.1 请求响应、字符串、命令（GET、POST）
HTTP 2.0 消息推送（订阅发布）、二进制、命令（PUSH）、报头压缩
HTTP 3.0 QPACK压缩


## 邮件
+ IMAP， POP

## RDT
+ RDT1.0
  + easy
+ RDT2.0：接收方判断比特错误反馈ACK/NAK
+ RDT2.1：ACK/NAK出现误码
+ RDT2.2：只用ACK，减少状态，双向互控
+ 报文丢失
  + RDT3.0：状态与RDT2.1相同，增加超时等待
  + GBN：超时重传
  + SR：超时重传


# 链路层

## 多址访问协议
+ 信道划分协议 - **重负载**
  + TDMA 每个节点在每次循环得到固定长度的时隙
  + FDMA 信道按频谱分
  + CDMA 不分， 设计编码来区分不同节点信号
+ 随机访问协议 - **轻负载**
  + 纯ALOHA
    + 以 p 的概率重传， 否则等待，之后继续尝试这个 p 的概率
    + P(ok) = 0.18
  + 时隙 ALOHA
    + 时隙 ALOHA 把时间切成一块一块的小区间（slot），所有节点必须在时隙的起点才能开始发送。
    + P(ok) = 0.37
  + CSMA
    + 非坚持 CSMA
    + 时隙非坚持 CSMA
      + 随机等
    + 1 坚持 CSMA
      + 坚持 CSMA， 也就是死等
    + p 坚持 CSMA
      + 死等，然后以一个概率发送，一个概率继续等
  + CSMA/CD 
      + CD：冲突检测技术，利用信号强度容易在有线局域网实现
      + 指数退避
      + **争用期**：$2 \tau$ (两倍端到端往返时间延迟)
        + $$T_f \geq 2\tau$$
        + $T_f$ 为帧传输的时间， 因为**必须在整个帧还没发完之前，就能“听到”潜在的冲突。**
      + $$ Efficiency = \frac{1}{1 + 5t_{prop}/t_{trans}}$$
      + $t_{prop} $ 表示 LAN 上两个节点最大传播延迟
      + $t_{trans}$ 表示传输最大帧时间
  + CSMA/CA 
    + WIFI 使用的协议
      + 先等待一个固定时间
      + 然后在竞争窗口随机选一段时间退避
      + 可选是否采用 RTS/CTS 用于避免隐藏节点冲突。
      + 收到 ACK 认为成功
+ 轮流协议 - **trade off**
  + 轮询
  + 令牌传递

## 如何阅读分组
+ 一般是 16 进制
+ 两个数一个字节， 一个数代表四位
+ 判断通过以太网是否需要填充：判断总长度是不是大于等于 46B ， 46B 是以太网最小负载